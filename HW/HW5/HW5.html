<html>

<head>
<title>Min Zheng (mz474)</title>

<script src="https://d3js.org/d3.v4.min.js"></script>

<style>
body { font-family: 'Alegreya Sans', Calibri, sans-serif; }
svg { border: solid #ccc 1px; }
</style>

<style>

.bar rect {
  fill: #454952;
}


</style>

</head>


<body>

<p id="problem 1">
	<h3 id = "p1_text">
		Problem1:
	</h3>


	<div id="normal">
	</div>

  <div id="normal_mean">
  </div>

  <div id="lognormal">
  </div>

  <div id="log_mean">
  </div>

  <div id="exponential">
  </div>
	<script id="p1">

	// var svg = d3.select("#p1_svg");
	// svg.append("text")
	// .attr("x", 100).attr("y", 30)
	// .style("fill", "#ccc")
	// .text("problem 1");

	//http://blockbuilder.org/bsurnida/c4fcc315afca2f78d27832bcd5e4984e

// var number = d3.range(1000).map(d3.randomBates(10));
// plotHistogram("p1_plots", number);

	function plotHistogram(element_id, number){

		var data = number;
		var formatCount = d3.format(",.0f");


		var svg = d3.select("#"+element_id)
    .append("svg").attr("width", 400).attr("height", 400);

    svg.append("text")
		.attr("x", 300).attr("y", 30).style("fill", "#ccc")
		.text(element_id);

		d3.select("svg"),
		    margin = {top: 10, right: 30, bottom: 50, left: 60},
		    width = +svg.attr("width") - margin.left - margin.right,
		    height = +svg.attr("height") - margin.top - margin.bottom,
		    g = svg.append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");

		var x = d3.scaleLinear()
				   .domain([d3.min(number),d3.max(number)])
           .range([0,width]);

		var bins = d3.histogram()
				    .domain(x.domain())
				    .thresholds(x.ticks(20))(data);

		var y = d3.scaleLinear()
				    .domain([0, d3.max(bins, function(d) { return d.length; })])
				    .range([height, 0]);

		var bar = g.selectAll(".bar")
						  .data(bins)
              .enter().append("rect")
      .attr("class", "bar")
      .attr("x", 1)
      .attr("transform", function(d) {
		  return "translate(" + x(d.x0) + "," + y(d.length) + ")"; })
      .attr("width", function(d) { return x(d.x1) - x(d.x0); })
      .attr("stroke","white")
      .attr("height", function(d) { return height - y(d.length); });


		g.append("g")
						.attr("class", "x_axis")
						.attr("transform", "translate(0," + height + ")")
						.call(d3.axisBottom(x));

		g.append("g")
		      .attr("class", "y_axis")
		      .call(d3.axisLeft(y));

    // append axis names
    g.append("text")
      		.attr("x", width/2).attr("y", height + 37)
          .style("font-size",15).style("text-anchor","middle")
      		.text("value");

    g.append("text")
          .attr("x", -50).attr("y", margin.top + height/2)
          .style("font-size",15)
          .text("freq");

	}

  function gaussian(){
    return d3.randomNormal(0.0, 1.0)();
  }


  function gaussian1000(){
    var array = [];

    var length = 1000;
    for(var i = 0; i < length; i++) {
        array.push(gaussian() + 1);
    }
    return array;

  }

  function arrayMean(number) {
    return d3.mean(number);
  }

  var gData = gaussian1000();
  plotHistogram("normal", gData);


// Part 3
  var mean_array = [];

  var length = 1000;
  for(var i = 0; i < length; i++) {
      mean_array.push(d3.mean(gaussian1000()));
  }

  plotHistogram("normal_mean", mean_array);

// p3 writeup
  var p = d3.select("#normal_mean").append("p")
  .text("The mean distribution has roughly the same shape as that of problem 2. But the values are more centered. The range of normal is about 5, and the range of the mean is about 0.2. The frequency is similar between the two, but the max frequency in mean distribution is smaller.");
</script>

<script>
// Part 4
  function lognormal1000(){
    var log_array = [];

    var length = 1000;
    for(var i = 0; i < length; i++) {
        log_array.push(Math.exp(gaussian()));
    }
    return log_array;
  }
  plotHistogram("lognormal", lognormal1000());

// Part 5
var mean_log = [];

var length = 1000;
for(var i = 0; i < length; i++) {
    mean_log.push(d3.mean(lognormal1000()));
}

plotHistogram("log_mean", mean_log);

// p5 writeup
  var p = d3.select("#log_mean").append("p")
  .text("The mean distribution has roughly the same shape as that of problem 2. But the values are more centered. The range in problem2 is about 5, and the range of the log mean is about 0.5. The frequency is similar between the two.");
</script>

<script>


</script>
</p>



</body>
</html>
